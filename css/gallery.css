/* --- Gallery Image Expansion --- */

/* The overlay that appears behind the expanded image */
.page-overlay {
    position: fixed;
    width: 100%;
    height: 100%;
    inset: 0;
    /* A shorthand for top: 0; right: 0; bottom: 0; left: 0; */
    background: rgba(0, 0, 0, 0.85);
    z-index: 900;

    /* Start hidden */
    opacity: 0;
    visibility: hidden;

    /* Smooth transition */
    transition: opacity 0.3s ease, visibility 0.3s ease;
    cursor: pointer;
}

/* This class is added by JavaScript to make the overlay appear */
.page-overlay.visible {
    opacity: 1;
    visibility: visible;
}

/* Styles for the polaroid when it is expanded */
.polaroid.expanded {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(0deg);
    /* Center and straighten */
    width: auto;
    height: 90vh;
    /* Make it 90% of the screen's height */
    max-width: 90vw;
    z-index: 1002;
    /* Must be higher than the overlay's z-index */
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
    cursor: pointer;
    margin: 0;
}

.polaroid.expanded img {
    object-fit: contain;
    height: min(75vh, 75vw);
    width: auto;
    /* Ensures the whole image is visible without cropping */
}

.polaroid.expanded .caption {
    font-size: 2rem;
    margin-top: 15px;
    color: #b32d57;
}

/* A general class to prevent body scroll when an overlay is active */
body.overlay-active {
    overflow: hidden;
}